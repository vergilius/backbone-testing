<html>
<head>
	<title>Backbone.js Tests</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<link rel="stylesheet" href="lib/mocha.css" />
	
	<script src="lib/mocha.js"></script>
	<script src="lib/chai.js"></script>
	<script src="lib/sinon.js"></script>

	<script src="spec/hello.spec.js"></script>
	<script>
		
		// Setup.
		var expect = chai.expect;

		mocha.setup("bdd");
		
		// Run tests on window load event.
		window.onload = function () {
			mocha.run();
		};


		describe('test library', function() {
			describe('chai', function () {
				it('should be equal using expect', function (done) {
					expect(hello()).to.equal('Hello world');
					done();
				});
			});

			describe('sinon', function () {
				it('should report spy called', function (done) {
					var helloSpy = sinon.spy(window, 'hello');

					expect(helloSpy.called).to.be.false;
					hello();
					expect(helloSpy.called).to.be.true;
					hello.restore();

					done();
				});
				
			});
		});

	</script>

</head>
<body>
	<div id="mocha"></div>

</body>
</html>